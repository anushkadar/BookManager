import requests

API_BASE_URL = "https://api.labelz.pro.bol.io/v1/internal/discount-labels"
HEADERS = {
    "Content-Type": "application/json",
    "Accept": "*/*",
    "Authorization": "Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjIzMjJkZGNiY2UwZWJmNzIyMjcxYjZkYmFlZGY1NWM2ZDkzYTM3ZDciLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJib2wuaW8iLCJleHAiOjE3NTE1NzY5MzIsImlhdCI6MTc1MTU0MDkzMiwiaXNzIjoiYWFhLWF1dGgiLCJzdWIiOiJhZGFyc2hhbmFAYm9sLmNvbSIsInVzZXIiOiJhZGFyc2hhbmFAYm9sLmNvbSIsIm5hbWUiOiJBbnVzaGthIERhcnNoYW5hIiwiZ3JvdXBzIjpbIkFBRC9TR0VJRF9JQU1fTGFiZWx6LWFkbWluIiwiQUFEL1NHRUlEX0lBTV9Qcm9taW5lbmNlLWFkbWluIiwiQUFEL1NHRUlEX0lBTV9Lb3NoaWstcHJvbWktdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9Dcm9jb2RpbGUtZG9jcy12aWV3ZXIiLCJBQUQvU0dFSURfSUFNX05pYnVkLXRlY2giLCJBQUQvU0dFSURfSUFNX1NlbGZlZS10ZWNoIiwiQUFEL1NHRUlEX0lBTV9TdGFtcHBvdC1hZG1pbiIsIkFBRC9TR0VJRF9JQU1fQXVyZXVzLWRvY3Mtdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9Qcm9tb3BvbGljZS12aWV3ZXIiLCJBQUQvU0dFSURfSUFNX0J1eWFsb3QtYWRtaW4iLCJBQUQvU0dFSURfSUFNX0NhbWVsb3QtYWRtaW4iLCJBQUQvU0dFSURfSUFNX0dSQVZBLXRlY2giLCJBQUQvU0dETF9MREFQX1NlcnZpY2VzX1Byb21vX1N1cGVyX1N1aXRlX0FkbWluIiwiQUFEL1NHRExfR0NQX0RBTV9HbG9iYWxfU0gtUlQiLCJBQUQvU0dFSURfSUFNX0J1eWFsb3Qtdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9TdG9ja2lzdC1pbnRlcm5hbF9wYWdlX3ZpZXciLCJBQUQvU0dFSURfSUFNX1JUTi1kb2NzLXZpZXdlciIsIkFBRC9TR0VJRF9JQU1fQ0xFQU4tYXBpLXVzZXIiLCJBQUQvU0dFSURfSUFNX1Blbm55LXRlY2giLCJBQUQvU0dFSURfSUFNX1JQRy12aWV3ZXIiLCJBQUQvU0dFSURfSUFNX1NvbGlkdXMtZG9jcy12aWV3ZXIiLCJBQUQvU0dFSURfSUFNX1Zhc3QtdGVjaCIsIkFBRC9TR0VJRF9JQU1fUGluYXRhLWRvY3Mtdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9Qcm9tb3BvbGljZS1hZG1pbiIsIkFBRC9TR0VJRF9JQU1fS29zaGlrLXByb21pLWFkbWluIiwiQUFEL1NHRUlEX0lBTV9Bc3NvcnRtZWlzdGVyLWFkbWluIiwiQUFEL1NHRUlEX0lBTV9TaWQtaXQtZGVwYXJ0bWVudCIsIkFBRC9TR0VJRF9JQU1fRU1QLURJU0NPVU5UUy1WSUVXRVIiLCJBQUQvU0dFSURfSUFNX1Byb21vLXN1aXRlLWFkbWluIiwiQUFEL1NHRUlEX0lBTV9SUEctYWRtaW4iLCJBQUQvU0dfVGVhbV9FeGNhbGlidXIiLCJBQUQvU0dFSURfSUFNX1JFQ09OLXZpZXdlciIsIkFBRC9TR0VJRF9JQU1fUHJvbW8tc3VpdGUtdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9SZWFsVGltZVNhbGVzLWRlZmF1bHQiLCJBQUQvU0dFSURfSUFNX1NpZGItaXQtZGVwYXJ0bWVudCIsIkFBRC9TR0VJRF9JQU1fUHJvbWluZW5jZS12aWV3ZXIiLCJBQUQvU0dETF9MREFQX1NlcnZpY2VzX1Byb21vX1N1cGVyX1N1aXRlIiwiQUFEL1NHRUlEX0lBTV9Qcm9tb3Rpb25zLWFkbWluIiwiQUFEL1NHX1RlYW1fTWVybGluIiwiQUFEL1NHRUlEX0lBTV9BbGYtaXQtZGVwYXJ0bWVudCIsIkFBRC9TR0VJRF9JQU1fU2F1cm9uLWl0LWRlcGFydG1lbnQiLCJBQUQvU0dVX0ZVTkNfU2NydW0iLCJBQUQvU0dVX0RFUFRfSVQiLCJBQUQvU0dFSURfSUFNX1N0YW1wcG90LXZpZXdlciIsIkFBRC9TR0RMX0xEQVBfU2VydmljZXNfTWVkaWFNYW5hZ2VyX1VzZXIiLCJBQUQvU0dFSURfSUFNX0NhbWVsb3Qtdmlld2VyIiwiQUFEL1NHRUlEX0lBTV9Qcm9tb3ByaWNlcy1hZG1pbiIsIkFBRC9TR0VJRF9JQU1fR1JPVVBTLVZJRVdFUiIsIkFBRC9TR0VJRF9JQU1fQ2FtcGFuemVlLXRlY2giLCJBQUQvU0dFSURfSUFNX0FkYXVjdGlvbi10ZWNoIiwiQUFEL1NHRUlEX0lBTV9Qcm9maWwtRVMtYWRtaW4iLCJBQUQvU0dBQURfQWxsX3VzZXJzIiwiQUFEL1NHX0xEQVBfQklaX0V2ZXJ5b25lIiwiQUFEL1NHQUFEX0FsbC1pbnRlcm5hbC1uby1pbnRlcm5zIiwiQUFEL1NHVV9GVU5DX0JvbF9JbnRlcm4iXSwidHlwZSI6InVzZXIiLCJwcm92aWRlciI6ImF6dXJlYWQiLCJjb29raWUtZG9tYWluIjoiYm9sLmlvIn0.J1gkXq4eeCqQiZ4mgzzm7lG6cUGj1cExYXylbuLgNtZh_UGRwHQOnc171B35YI28P46FRLTm2Y1l0kNNWOtYnPx_5V8pLxMWQdr8P6wbdc4imDLMYbwUJeWOgV5_CIGe-_N-gkWogvOysHCIJLvySZHQ8CT0Lsqai-bZUwmzM5UBxWlbA3kKvgzKfWf6GEBLaXuRXGQ-awQDx1c-OQI47t5EvxysEUTl7Gq5hV5tkjd0ECJ4Jao_S6X3HrMKfYCJWMAN3HCGu2ze-k8dEufSZSmaU1BArg-DYkENb0OdaEWNleNfohJ9hTPROZjaJs59-xd7Iy0R3KNCApAADTjDIg"  # remove if unnecessary
}

discount_label_ids = [
    500162446, 500162448, 500162450, 500162599, 500163303, 500163446, 500163513, 500163848, 500163934, 500164020,
    500164509, 500164574, 500164606, 500164845, 500166247, 500167120, 500167419, 500167646, 500167719, 500168133,
    500168134, 500168135, 500168136, 500168137, 500168138, 500168139, 500168140, 500168141, 500168142, 500168143,
    500168144, 500168145, 500168147, 500168148, 500168149, 500168173, 500168174, 500168175, 500168403, 500168404,
    500168405, 500168406, 500168408, 500168410, 500168411, 500168412, 500168413, 500168414, 500168415, 500168416,
    500168484

    # ... your other IDs
]

for label_id in discount_label_ids:
    get_url = f"{API_BASE_URL}/{label_id}"
    response = requests.get(get_url, headers=HEADERS)

    if response.status_code != 200:
        print(f"[GET FAILED] ID {label_id}: {response.status_code}")
        continue

    label = response.json()

    title = label.get("title")
    if not title:
        print(f"[SKIP] ID {label_id} missing title")
        continue

    if label.get("name") == title:
        print(f"[SKIP] ID {label_id} already has correct name")
        continue

    # Update name to match title
    label["name"] = title

    put_url = f"{API_BASE_URL}/{label_id}"
    put_response = requests.put(put_url, headers=HEADERS, json=label)

    if put_response.status_code in [200, 204]:
        print(f"[UPDATED] ID {label_id}")
    else:
        print(f"[PUT FAILED] ID {label_id}: {put_response.status_code} - {put_response.text}")
